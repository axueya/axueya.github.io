<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>python on 停云霭霭，时雨濛濛</title>
    <link>https://axueya.github.io/categories/python/</link>
    <description>Recent content in python on 停云霭霭，时雨濛濛</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Fri, 21 Jun 2019 11:12:40 +0800</lastBuildDate>
    
	<atom:link href="https://axueya.github.io/categories/python/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>pandas apply传参</title>
      <link>https://axueya.github.io/post/pandas-apply%E4%BC%A0%E5%8F%82/</link>
      <pubDate>Fri, 21 Jun 2019 11:12:40 +0800</pubDate>
      
      <guid>https://axueya.github.io/post/pandas-apply%E4%BC%A0%E5%8F%82/</guid>
      <description>&lt;p&gt;apply函数的*args和**kwds参数，&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import pandas as pd
import datetime   #用来计算日期差的包
def dataInterval(data1,data2):
    d1 = datetime.datetime.strptime(data1, &#39;%Y-%m-%d&#39;)
    d2 = datetime.datetime.strptime(data2, &#39;%Y-%m-%d&#39;)
    delta = d1 - d2
    return delta.days
def getInterval_new(arrLike,before,after):  #用来计算日期间隔天数的调用的函数
    before = arrLike[before]
    after = arrLike[after]
#    print(PublishedTime.strip(),ReceivedTime.strip())
    days = dataInterval(after.strip(),before.strip())  #注意去掉两端空白
    return days

if __name__ == &#39;__main__&#39;:    
    fileName = &amp;quot;NS_new.xls&amp;quot;;
    df = pd.read_excel(fileName) 
    df[&#39;TimeInterval&#39;] = df.apply(getInterval_new , 
      axis = 1, args = (&#39;ReceivedTime&#39;,&#39;PublishedTime&#39;))    #调用方式一
    #下面的调用方式等价于上面的调用方式
    df[&#39;TimeInterval&#39;] = df.apply(getInterval_new , 
      axis = 1, **{&#39;before&#39;:&#39;ReceivedTime&#39;,&#39;after&#39;:&#39;PublishedTime&#39;})  #调用方式二
    #下面的调用方式等价于上面的调用方式
    df[&#39;TimeInterval&#39;] = df.apply(getInterval_new , 
      axis = 1, before=&#39;ReceivedTime&#39;,after=&#39;PublishedTime&#39;)  #调用方式三

&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    
  </channel>
</rss>